"use strict";angular.module("docsApp",["docsApp.controllers","docsApp.directives"]),angular.module("docsApp.controllers",[]).controller("DocsCtrl",["$scope","$filter","$http","$location","$anchorScroll","$sce",function(r,e,t,n,l,o){var c,a={server:1,shared:2,client:3,menu:4};function u(){var e=document.getElementById("resultListing"),t=document.getElementById("resultDocs");e&&(e.scrollTop=0),t&&(t.scrollTop=0)}r.queryModel=n.search().q||"",r.query=n.search().q||"",r.docFilter=n.search().f||r.queryModel,r.resultLimit=50,r.functions=null,t({url:"./data/glua.json",method:"GET"}).success(function(e){r.functions=function(e){return e.sort(function(e,t){var o=a[e.scope]||5,r=a[t.scope]||5;if(o<r)return-1;if(r<o)return 1;var n=e.title.split("."),l=t.title.split("."),c=n[0],u=l[0],i=n[1],s=l[1];return c.toLowerCase()<u.toLowerCase()?-1:c.toLowerCase()>u.toLowerCase()?1:c<u?-1:u<c?1:i<s?-1:s<i?1:0}),e}(e)}),r.select=function(e,t){if(!r.queryModel.length||t>r.resultLimit)n.search("f",e.title),r.docFilter=e.title,l();else{n.search("f",null),r.docFilter=r.query;var o=document.getElementById(e.title);o&&o.scrollIntoView(!0)}},r.updateQuery=function(){c&&window.clearTimeout(c),c=window.setTimeout(function(){u(),r.$apply(function(){var e=r.queryModel,t=e.length?e:null;r.docFilter=e,r.query=e,n.search("q",t),n.search("f",null)})},220)},window.onpopstate=function(e){u(),r.$apply(function(){var e=n.search().q;e?(r.docFilter=e,r.query=e,r.queryModel=e):(r.docFilter=n.search().f||"",r.query="",r.queryModel="")})},r.unsafeHtml=function(e){return o.trustAsHtml(e)}}]),angular.module("docsApp.directives",[]).directive("docRainbow",function(){return function(e,t,o){e.$last&&window.Rainbow&&setTimeout(function(){Rainbow.color()},100)}});